# SQL Statements
Instead of a programming language like PHP, SQL is a declarative language. This means instead of giving a set of instructions of how and what to do, in SQL you provide it will a statement that describes what you want, and the Database figure outs how to do it.

The following statements are to be used with the mtm6331-contacts database. The sql file for this database can be found in `contacts/sql/mtm6331-contacts`.

## SELECT Statements
The most common statements are the SELECT statements, which is used to retrieve information from the database. Often the trick is not to retrieve desired information, but to ONLY retrieve the desired information.

### SELECT all Contacts
Retrieve all the rows and columns from the `contacts` table.

```
SELECT * FROM `contacts`;
```

### SELECT all Contacts' name
Retrieve all the rows, but just the `contact_name` column from the `contacts` table

```
SELECT `contact_name` FROM `contacts`;
```

### SELECT all Contacts' birthday
Retrieve all the rows, but just the `contact_birthday` column from the `contacts` table in order from the earliest birthday first.

```
SELECT `contact_birthday` FROM `contacts` ORDER BY `contact_birthday`;
```

### SELECT all Contacts' full address
Retrieve all the rows, but because the address is split across multiple columns, we need to list each column separated by a comma.

```
SELECT `contact_street`, `contact_city`, `contact_state`, `contact_zip` FROM `contacts`;
```
### SELECT only those Contacts with company of "Zidant" using the WHERE clause
When retrieving rows based on a condition, we use the WHERE clause.

```
SELECT * FROM `contacts` WHERE `contact_company` = "Zidant";
```

### SELECT only those Contacts who are younger than 30 as of November 2, 2017 in order of youngest first.
The WHERE clause accept multiple operator. While the equals `=` operator is the most common, the less than `<` or greater than `>` can also be used. **NOTE** When working with dates, those dates further in the past are consider smaller than those dates further in the future.

```
SELECT * FROM `contacts` WHERE `contact_birthday` > "1987-11-02" ORDER BY `contact_birthday` DESC;
```

### SELECT only the Phone Numbers with a type of mobile or home
It is possible to have a compound WHERE clause using the Logical operators `AND` and `OR`. This is extremely helpful if you are looking for multiple conditions.

```
SELECT * FROM `phones` WHERE `phone_type` = "mobile" OR `phone_type` = "home";
```

### SELECT only the Phone Numbers that start with number 9
When searching if a string contains a desired search criteria, you can use the `LIKE` operator. Combining it with the `%` symbol allows for a search with in strings to occur. The `%` acts as a wildcard allowing for any character to be in its place. The `%` can be placed at the beginning, end of the search criteria. **EXAMPLE** `LIKE "%son"` will match `Willson` and `Johnson` but not `Sons`.

```
SELECT `phone_number` FROM `phones` WHERE `phone_number` LIKE "9%";
```

## INSERT Statements
Of course selecting statements will only return data if there is data in the database. To ADD new data to the database we use an INSERT statement.

INSERT statements following the following pattern:

```
INSERT INTO [table] ([table_col_1], [table_col_2], ...) VALUES ([value_1, value_2], ...);
```

### INSERT a new contact
When adding a new row in a table, the row id is usually generated by the database and there for can be drop from the INSERT statement OR a value of `NULL` can be used. However, a value can be given and has been given in the example below.

```
INSERT INTO `contacts` (`contact_id`, `contact_name`, `contact_company`, `contact_thumbnail`, `contact_portrait`, `contact_birthday`, `contact_street`, `contact_city`, `contact_state`, `contact_zip`) VALUES (124 ,"Michael Eisenbraun","Algonquin College", "http://placehold.it/48x48","http://placehold.it/300x400","1990-01-01","123 Main St", "Ottawa", "ON", "K2G 1V8");
```

### INSERT a new phone number for the new contact
MySQL is a relational database management system, and if tables are normalized properly, they will often reference each other using foreign keys. If a new row has a foreign key column it is necessary that its values match the correct corresponding primary key. In short, when adding a new row with a foreign key make sure you know what the value of the primary key. In this case: our new contact primary key has a value of `124`

```
INSERT INTO `phones`(`phone_id`, `phone_type`, `phone_number`, `contact_id`) VALUES (NULL,"mobile","5555555555",124);
```
